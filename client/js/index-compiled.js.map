{"version":3,"sources":["index.js"],"names":[],"mappings":";;AAAA,CAAC,YAAW;;AAEX;;AAEA,KAAI,cAAJ;AACA,KAAI,aAAJ;AACA,KAAI,cAAJ;AACA,KAAI,YAAJ;AACA,KAAI,cAAJ;AACA,KAAI,aAAJ;AACA,KAAM,UAAU,4BAAhB;AACA,KAAM,WAAW,6BAAjB;;AAGA,UAAS,kBAAT,GAA8B,YAAW;AACxC,MAAG,SAAS,UAAT,KAAwB,aAA3B,EAA0C;AACzC;AACA,GAFD,MAEO,IAAG,SAAS,UAAT,KAAwB,UAA3B,EAAuC;AAC5C;AACD;AACD,EAND;;AAQA,UAAS,gBAAT,GAA4B;AAC3B,UAAQ,OAAO,UAAP,IACJ,SAAS,eAAT,CAAyB,WADrB,IAEJ,SAAS,IAAT,CAAc,WAFlB;AAGA;;AAED,UAAS,QAAT,GAAoB;AACnB,SAAO,SAAS,aAAT,CAAuB,OAAvB,CAAP;AACA,UAAQ,SAAS,aAAT,CAAuB,QAAvB,CAAR;AACA,SAAO,SAAS,aAAT,CAAuB,OAAvB,CAAP;AACA,QAAM,SAAS,aAAT,CAAuB,MAAvB,CAAN;AACA,UAAQ,SAAS,aAAT,CAAuB,QAAvB,CAAR;;AAEA,OAAK,gBAAL,CAAsB,OAAtB,EAA+B,UAAS,CAAT,EAAY;AAC1C,KAAE,cAAF;;AAEA,WAAQ,OAAR,EAAiB,aAAjB;AACA,GAJD;AAKA;;AAED,UAAS,OAAT,CAAiB,GAAjB,EAAsB,EAAtB,EAA0B;AACzB,MAAI,UAAU,IAAI,cAAJ,EAAd;AACA,UAAQ,IAAR,CAAa,KAAb,EAAoB,GAApB;AACA,UAAQ,YAAR,GAAuB,MAAvB;AACA,UAAQ,MAAR,GAAiB,YAAW;AAC3B,OAAG,QAAQ,MAAR,KAAmB,GAAtB,EAA2B;AAC1B,OAAG,QAAQ,QAAX;AACA,IAFD,MAEO;AACN,YAAQ,GAAR,CAAY,QAAQ,MAAR,GAAiB,IAAjB,GAAwB,QAAQ,UAA5C;AACA;AACD,GAND;AAOA,UAAQ,IAAR;AACA;;AAED,UAAS,aAAT,CAAuB,QAAvB,EAAiC;AAChC,QAAM,WAAN,GAAoB,EAApB;AACA,MAAM,MAAM,IAAI,GAAJ,CAAQ,QAAR,CAAZ;AACA,MAAI,WAAJ,GAAkB,qBAAqB,IAAI,IAAzB,CAAlB;AACA,MAAG,IAAI,IAAJ,GAAW,CAAd,EAAiB;AAChB,WAAQ,QAAR,EAAkB,YAAlB;AACA;AACD,MAAI,YAAY,MAAM,gBAAN,CAAuB,QAAvB,CAAhB;AACA,MAAM,SAAS,WAAf;AACA,OAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,UAAU,MAA9B,EAAsC,GAAtC,EAA2C;AAC1C,aAAU,CAAV,EAAa,GAAb,QAAsB,MAAtB,GAA+B,iBAAiB,SAAS,CAAT,CAAjB,CAA/B;AACA,aAAU,CAAV,EAAa,GAAb,GAAmB,iBAAiB,SAAS,CAAT,CAAjB,CAAnB;AACA;AACD;;AAED,UAAS,YAAT,CAAsB,QAAtB,EAAgC;AAC/B,MAAG,QAAH,EAAa;AACZ,SAAM,WAAN,GAAoB,0CAApB;AACA;AACD;;AAED,UAAS,gBAAT,CAA0B,GAA1B,EAA+B;AAC9B,qBAAiB,GAAjB;AACA;;AAED,UAAS,oBAAT,CAA8B,GAA9B,EAAmC;AAClC,MAAM,UAAU,CAAC,SAAD,EAAY,WAAZ,EAAyB,QAAzB,CAAhB;AACA,SAAO,QAAQ,MAAM,CAAd,CAAP;AACA;AAED,CAtFD","file":"index-compiled.js","sourcesContent":["(function() {\n\n\t'use strict';\n\n\tlet wSize;\n\tlet form;\n\tlet slots;\n\tlet win;\n\tlet bonus;\n\tlet play;\n\tconst playUrl = \"http://localhost:3000/play\";\n\tconst bonusUrl = \"http://localhost:3000/bonus\";\n\n\n\tdocument.onreadystatechange = function() {\n\t\tif(document.readyState === 'interactive') {\n\t\t\tdomContentLoaded();\n\t\t} else if(document.readyState === 'complete') {\n\t\t\t\tdomReady();\n\t\t}\n\t};\n\n\tfunction domContentLoaded() {\n\t\twSize = window.innerWidth\n\t\t\t|| document.documentElement.clientWidth\n\t\t\t|| document.body.clientWidth;\n\t}\n\n\tfunction domReady() {\n\t\tform = document.querySelector('.form');\n\t\tslots = document.querySelector('.slots');\n\t\tplay = document.querySelector('.play');\n\t\twin = document.querySelector('.win');\n\t\tbonus = document.querySelector('.bonus');\n\n\t\tplay.addEventListener('click', function(e) {\n\t\t\te.preventDefault();\n\n\t\t\tXHRCall(playUrl, processResult);\n\t\t});\n\t}\n\n\tfunction XHRCall(url, cb) {\n\t\tlet request = new XMLHttpRequest();\n\t\trequest.open('GET', url);\n\t\trequest.responseType = 'json';\n\t\trequest.onload = function() {\n\t\t\tif(request.status === 200) {\n\t\t\t\tcb(request.response);\n\t\t\t} else {\n\t\t\t\tconsole.log(request.status + ': ' + request.statusText);\n\t\t\t}\n\t\t};\n\t\trequest.send();\n\t}\n\n\tfunction processResult(response) {\n\t\tbonus.textContent = '';\n\t\tconst set = new Set(response);\n\t\twin.textContent = winTextByEqualValues(set.size);\n\t\tif(set.size < 3) {\n\t\t\tXHRCall(bonusUrl, processBonus);\n\t\t}\n\t\tlet slotItems = slots.querySelectorAll('li img');\n\t\tconst prefix = './images/';\n\t\tfor (let i = 0; i < slotItems.length; i++) {\n\t\t\tslotItems[i].src = `${prefix}${slotImageByValue(response[i])}`;\n\t\t\tslotItems[i].alt = slotImageByValue(response[i]);\n\t\t}\n\t}\n\n\tfunction processBonus(response) {\n\t\tif(response) {\n\t\t\tbonus.textContent = \"Congratulations! You won a bonus of $10.\"\n\t\t}\n\t}\n\n\tfunction slotImageByValue(val) {\n\t\treturn `Symbol_${val}.png`;\n\t}\n\n\tfunction winTextByEqualValues(val) {\n\t\tconst winText = ['Big Win', 'Small Win', 'No Win'];\n\t\treturn(winText[val - 1]);\n\t}\n\n})();"]}